{"version":3,"sources":["constants.js","Components/WalletModal/index.jsx","Components/CharacterCard/index.jsx","Components/LoadingIndicator/index.jsx","Components/SelectCharacter/index.jsx","Components/ArenaCard/index.jsx","Components/Arena/index.jsx","App.js","index.js"],"names":["CONTRACT_ADDRESS","transformCharacterData","characterData","name","imageURI","hp","toNumber","maxHp","attackDamage","armor","WalletModal","isOpen","closeModal","btnAction","open","onClose","className","Overlay","Title","onClick","CharacterCard","character","mintAction","useState","style","setStyle","onMouseMove","e","target","getBoundingClientRect","width","height","xAxis","pageX","yAxis","pageY","transform","onMouseLeave","src","alt","LoadingIndicator","children","SelectCharacter","characterState","characters","setCharacters","gameContract","setGameContract","setCharacterNFT","mintingCharacter","setMintingCharacter","useEffect","ethereum","window","signer","ethers","providers","Web3Provider","getSigner","Contract","myEpicGame","abi","console","log","getCharacters","a","getAllDefaultCharacters","charactersTxn","map","error","onCharacterMint","sender","tokenId","characterIndex","toast","success","on","off","length","index","characterId","mintCharacterNFT","mintTxn","wait","warn","ArenaCard","Arena","characterNFT","boss","setBoss","attackState","setAttackState","runAttackAction","attackBoss","attackTxn","fetchBoss","getBigBoss","bossTxn","onAttackComplete","newBossHp","newPlayerHp","bossHp","playerHp","prevState","disabled","App","currentAccount","setCurrentAccount","isLoading","setIsLoading","checkIfWalletIsConnected","request","method","accounts","account","connectWalletAction","alert","fetchNFTMetadata","provider","checkIfUserHasNFT","txn","href","rel","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9fe2a0da.chunk.js","sourcesContent":["const CONTRACT_ADDRESS = \"0x0a6c1A94e203C2293F635E3C2D8B5f5C723b2E42\";\n\nconst transformCharacterData = (characterData) => {\n  return {\n    name: characterData.name,\n    imageURI: characterData.imageURI,\n    hp: characterData.hp.toNumber(),\n    maxHp: characterData.maxHp.toNumber(),\n    attackDamage: characterData.attackDamage.toNumber(),\n    armor: characterData.armor?.toNumber(),\n  };\n};\n\nexport { CONTRACT_ADDRESS, transformCharacterData };\n","import { Dialog } from \"@headlessui/react\";\n\nexport default function WalletModal({ isOpen, closeModal, btnAction }) {\n  return (\n    <Dialog\n      open={isOpen}\n      onClose={closeModal}\n      className=\"fixed inset-0 z-10 overflow-y-auto flex justify-center items-center\"\n    >\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <Dialog.Overlay className=\"fixed inset-0 bg-black opacity-30\" />\n        <div className=\"relative bg-cgray p-6 rounded-2xl  text-gray-400 flex flex-col items-center justify-center mx-auto\">\n          <Dialog.Title className=\"text-3xl text-gray-300 font-bold mb-4\">\n            Welcome to Hero Knights!\n          </Dialog.Title>\n          <button\n            onClick={btnAction}\n            className=\"w-10/12 bg-gradient-to-r from-blue-400 to-green-400 text-white p-2 rounded\"\n          >\n            Connect Wallet To Get Started\n          </button>\n        </div>\n      </div>\n    </Dialog>\n  );\n}\n","import \"./card.css\";\nimport { useState } from \"react\";\n\nexport default function CharacterCard({ character, mintAction }) {\n  const [style, setStyle] = useState({});\n  const rotateCard = (e) => {\n    let { width, height } = e.target.getBoundingClientRect();\n    let xAxis = (e.pageX - width / 2) / 40;\n    let yAxis = (e.pageY - height / 2) / 30;\n    setStyle({\n      transform: `perspective(400px) rotateX(${xAxis}deg) rotateY(${yAxis}deg) scale(1.05)`,\n    });\n  };\n\n  const rotateToOrigin = () => {\n    setStyle({\n      transform: `perspective(600px) rotateX(0deg) rotateY(0deg) scale(1)`,\n    });\n  };\n\n  return (\n    <div\n      style={style}\n      onMouseMove={rotateCard}\n      onMouseLeave={rotateToOrigin}\n      className=\"card p-4 bg-gradient-to-br from-green-400 via-blue-400 via-purple-800 to-pink-600  rounded-lg animated-bg\"\n    >\n      <div className=\"flex flex-col card-content\">\n        <div className=\"w-full rounded-lg bg-black bg-opacity-70 mb-3\">\n          <img\n            src={character.imageURI}\n            alt=\"character-img\"\n            className=\"w-full h-80 -mt-7\"\n          />\n        </div>\n        <div className=\"flex flex-col\">\n          <h3 className=\"text-lg text-white\">{character.name}</h3>\n          <div className=\"flex justify-between  mb-2\">\n            <div className=\"p-1\">\n              <img src=\"\" alt=\"\" />\n              <span>HP</span>\n              <br />\n              <span>{character.hp}</span>\n            </div>\n            <div className=\"p-1\">\n              <img src=\"\" alt=\"\" />\n              <span>ATK</span>\n              <br />\n              <span>{character.attackDamage}</span>\n            </div>\n            <div className=\"p-1\">\n              <img src=\"\" alt=\"\" />\n              <span>ARM</span>\n              <br />\n              <span>{character.armor}</span>\n            </div>\n          </div>\n          <button\n            className=\"p-2 bg-white text-gray-900 rounded-lg text-lg font-semibold\"\n            onClick={mintAction}\n          >\n            Mint character\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./LoadingIndicator.css\";\n\nconst LoadingIndicator = ({ children }) => {\n  return (\n    <div className=\"w-full h-full z-20 fixed top-0 left-0 bg-black bg-opacity-80\">\n      <div className=\"absolute top-1/2 left-1/2  transform -translate-x-1/2 -translate-y-1/2\">\n        <div className=\"sk-folding-cube\">\n          <div className=\"sk-cube1 sk-cube\"></div>\n          <div className=\"sk-cube2 sk-cube\"></div>\n          <div className=\"sk-cube4 sk-cube\"></div>\n          <div className=\"sk-cube3 sk-cube\"></div>\n        </div>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default LoadingIndicator;\n","import { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport { CONTRACT_ADDRESS, transformCharacterData } from \"../../constants\";\nimport myEpicGame from \"../../utils/MyEpicGame.json\";\nimport CharacterCard from \"../CharacterCard\";\nimport LoadingIndicator from \"../LoadingIndicator\";\nimport toast from \"react-hot-toast\";\n\nexport default function SelectCharacter({ characterState }) {\n  const [characters, setCharacters] = useState([]);\n  const [gameContract, setGameContract] = useState(null);\n  const [characterNFT, setCharacterNFT] = characterState;\n  const [mintingCharacter, setMintingCharacter] = useState(false);\n\n  const mintCharacterNFTAction = (characterId) => async () => {\n    try {\n      if (gameContract) {\n        setMintingCharacter(true);\n        console.log(\"Minting character in progress...\");\n        const mintTxn = await gameContract.mintCharacterNFT(characterId);\n        await mintTxn.wait();\n        console.log(\"mintTxn:\", mintTxn);\n        setMintingCharacter(false);\n      }\n    } catch (error) {\n      console.warn(\"MintCharacterAction Error:\", error);\n      setMintingCharacter(false);\n    }\n  };\n\n  useEffect(() => {\n    const { ethereum } = window;\n\n    if (ethereum) {\n      const provider = new ethers.providers.Web3Provider(ethereum);\n      const signer = provider.getSigner();\n      const gameContract = new ethers.Contract(\n        CONTRACT_ADDRESS,\n        myEpicGame.abi,\n        signer\n      );\n      setGameContract(gameContract);\n    } else {\n      console.log(\"Ethereum object not found\");\n    }\n  }, []);\n\n  useEffect(() => {\n    const getCharacters = async () => {\n      try {\n        console.log(\"Getting contract characters to mint\");\n\n        const charactersTxn = await gameContract.getAllDefaultCharacters();\n        console.log(\"charactersTxn:\", charactersTxn);\n\n        const characters = charactersTxn.map((characterData) =>\n          transformCharacterData(characterData)\n        );\n\n        setCharacters(characters);\n      } catch (error) {\n        console.error(\"Something went wrong fetching characters:\", error);\n      }\n    };\n\n    const onCharacterMint = async (sender, tokenId, characterIndex) => {\n      console.log(\n        `CharacterNFTMinted - sender: ${sender} tokenId: ${tokenId.toNumber()} characterIndex: ${characterIndex.toNumber()}`\n      );\n\n      if (gameContract) {\n        console.log(\"CharacterNFT: \", characters[characterIndex]);\n        setCharacterNFT(characters[characterIndex]);\n        toast.success(\"Your character is ready to fight!\");\n      }\n    };\n\n    if (gameContract) {\n      getCharacters();\n      gameContract.on(\"CharacterNFTMinted\", onCharacterMint);\n    }\n\n    return () => {\n      if (gameContract) {\n        gameContract.off(\"CharacterNFTMinted\", onCharacterMint);\n      }\n    };\n  }, [gameContract]);\n\n  return (\n    <div>\n      <h2 className=\"text-3xl text-white font-semibold\">\n        Mint your Hero. Choose wisely\n      </h2>\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-6\">\n        {characters.length > 0 &&\n          characters.map((character, index) => (\n            <CharacterCard\n              character={character}\n              key={character.name}\n              mintAction={mintCharacterNFTAction(index)}\n            />\n          ))}\n      </div>\n      {mintingCharacter && (\n        <LoadingIndicator>Minting your character!</LoadingIndicator>\n      )}\n    </div>\n  );\n}\n","export default function ArenaCard({ character }) {\n  return (\n    <div className=\"animated-bg w-full p-4 bg-gradient-to-br from-green-400 via-blue-400 via-purple-800 to-pink-600  rounded-lg\">\n      <div className=\"flex flex-col\">\n        <h3 className=\"text-white text-lg font-bold mb-2\">{character.name}</h3>\n        <div className=\"rounded-lg bg-black bg-opacity-70\">\n          <img\n            src={character.imageURI}\n            alt={character.name}\n            className=\"w-full \"\n          />\n          <div className=\"bg-white rounded-b-lg flex justify-center\">\n            <span className=\"text-md text-black font-semibold\">\n              {character.hp}/{character.maxHp}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { CONTRACT_ADDRESS, transformCharacterData } from \"../../constants\";\nimport myEpicGame from \"../../utils/MyEpicGame.json\";\nimport ArenaCard from \"../ArenaCard\";\nimport LoadingIndicator from \"../LoadingIndicator\";\n\nexport default function Arena({ characterNFT, setCharacterNFT }) {\n  const [gameContract, setGameContract] = useState(null);\n  const [boss, setBoss] = useState(null);\n  const [attackState, setAttackState] = useState(\"\");\n  const runAttackAction = async () => {\n    try {\n      if (gameContract) {\n        setAttackState(\"attacking\");\n        console.log(\"Attacking boss...\");\n        const attackTxn = await gameContract.attackBoss();\n        await attackTxn.wait();\n        console.log(\"attackTxn:\", attackTxn);\n        setAttackState(\"hit\");\n      }\n    } catch (error) {\n      console.error(\"Error attacking boss:\", error);\n      setAttackState(\"\");\n    }\n  };\n\n  useEffect(() => {\n    const fetchBoss = async () => {\n      const bossTxn = await gameContract.getBigBoss();\n      console.log(\"Boss:\", bossTxn);\n      setBoss(transformCharacterData(bossTxn));\n    };\n\n    const onAttackComplete = (newBossHp, newPlayerHp) => {\n      const bossHp = newBossHp.toNumber();\n      const playerHp = newPlayerHp.toNumber();\n\n      console.log(`AttackComplete: Boss Hp: ${bossHp} Player Hp: ${playerHp}`);\n\n      setBoss((prevState) => {\n        return { ...prevState, hp: bossHp };\n      });\n\n      setCharacterNFT((prevState) => {\n        return { ...prevState, hp: playerHp };\n      });\n    };\n\n    if (gameContract) {\n      fetchBoss();\n      gameContract.on(\"AttackComplete\", onAttackComplete);\n    }\n\n    return () => {\n      if (gameContract) {\n        gameContract.off(\"AttackComplete\", onAttackComplete);\n      }\n    };\n  }, [gameContract]);\n\n  useEffect(() => {\n    const { ethereum } = window;\n\n    if (ethereum) {\n      const provider = new ethers.providers.Web3Provider(ethereum);\n      const signer = provider.getSigner();\n      const gameContract = new ethers.Contract(\n        CONTRACT_ADDRESS,\n        myEpicGame.abi,\n        signer\n      );\n\n      setGameContract(gameContract);\n    } else {\n      console.log(\"Ethereum object not found\");\n    }\n  }, []);\n\n  return (\n    <div className=\"flex flex-col w-60 p-4 mx-auto items-center\">\n      {boss && (\n        <>\n          <div className=\"\">\n            <div className={`mb-6 animation-bg ${attackState}`}>\n              <ArenaCard character={boss} />\n            </div>\n          </div>\n          <button\n            disabled={characterNFT.hp === 0}\n            onClick={runAttackAction}\n            className=\"w-8/12 text-white font-bold bg-gradient-to-r from-blue-400 to-green-400 p-2 rounded my-4\"\n          >\n            Attack {boss.name}\n          </button>\n        </>\n      )}\n      <h2 className=\"text-white font-semibold text-lg mb-2\">Your Knight</h2>\n      <ArenaCard character={characterNFT} />\n      {attackState === \"attacking\" && (\n        <LoadingIndicator>\n          <h2 className=\"text-white text-3xl font-bold\">Attacking!</h2>\n        </LoadingIndicator>\n      )}\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { CONTRACT_ADDRESS, transformCharacterData } from \"./constants\";\nimport myEpicGame from \"./utils/MyEpicGame.json\";\nimport \"./App.css\";\nimport WalletModal from \"./Components/WalletModal\";\nimport SelectCharacter from \"./Components/SelectCharacter\";\nimport Arena from \"./Components/Arena\";\nimport LoadingIndicator from \"./Components/LoadingIndicator\";\n\nconst GITHUB_LINK = \"https://github.com/Manu146\";\n\nconst App = () => {\n  const [currentAccount, setCurrentAccount] = useState(null);\n  const [characterNFT, setCharacterNFT] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const checkIfWalletIsConnected = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (!ethereum) {\n        console.log(\"Make sure you have MetaMask!\");\n        return;\n      } else {\n        console.log(\"We have the ethereum object\", ethereum);\n      }\n\n      const accounts = await ethereum.request({ method: \"eth_accounts\" });\n\n      if (accounts.length !== 0) {\n        const account = accounts[0];\n        console.log(\"Found an authorized account:\", account);\n        setCurrentAccount(account);\n      } else {\n        console.log(\"No authorized account found\");\n      }\n      setIsLoading(false);\n    } catch (error) {\n      console.log(error);\n      setIsLoading(false);\n    }\n  };\n\n  const connectWalletAction = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (!ethereum) {\n        alert(\"Get MetaMask!\");\n        return;\n      }\n\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n\n      console.log(\"Connected\", accounts[0]);\n      setCurrentAccount(accounts[0]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    checkIfWalletIsConnected();\n  }, []);\n\n  useEffect(() => {\n    const fetchNFTMetadata = async () => {\n      try {\n        console.log(\"Checking for Character NFT on address:\", currentAccount);\n\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const signer = provider.getSigner();\n        const gameContract = new ethers.Contract(\n          CONTRACT_ADDRESS,\n          myEpicGame.abi,\n          signer\n        );\n\n        const txn = await gameContract.checkIfUserHasNFT();\n        if (txn.name) {\n          console.log(\"User has character NFT\");\n          setCharacterNFT(transformCharacterData(txn));\n        } else {\n          console.log(\"No character NFT found!\");\n        }\n        setIsLoading(false);\n      } catch (error) {\n        console.log(error);\n        setIsLoading(false);\n      }\n    };\n\n    if (currentAccount) {\n      console.log(\"CurrentAccount:\", currentAccount);\n      fetchNFTMetadata();\n    }\n  }, [currentAccount]);\n\n  return (\n    <div className=\"bg-gradient-to-br from-black via-gray-800 to-green-900 min-h-screen text-center\">\n      <div className=\"w-4/5 mx-auto min-h-screen flex flex-col justify-between bg-cgray opacity-95 flex-wrap\">\n        <div className=\"p-8\">\n          <p className=\"m-0 text-3xl font-bold text-white\">\n            ⚔️ Hero Knights ⚔️\n          </p>\n          <p className=\"text-2xl text-white\">Team up to protect the realm!</p>\n          {!currentAccount && (\n            <div className=\"flex flex-col m-auto max-w-lg\">\n              <img\n                src=\"https://64.media.tumblr.com/tumblr_mbia5vdmRd1r1mkubo1_500.gifv\"\n                alt=\"Monty Python Gif\"\n              />\n            </div>\n          )}\n          {currentAccount && !characterNFT && (\n            <SelectCharacter characterState={[characterNFT, setCharacterNFT]} />\n          )}\n          {currentAccount && characterNFT && (\n            <Arena\n              characterNFT={characterNFT}\n              setCharacterNFT={setCharacterNFT}\n            />\n          )}\n        </div>\n        <div className=\"flex justify-center items-center pb-7\">\n          <a\n            className=\"text-gray-100 text-md font-semibold\"\n            href={GITHUB_LINK}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Made with ❤️ by Manu146\n          </a>\n        </div>\n      </div>\n      <WalletModal\n        isOpen={currentAccount == null}\n        btnAction={connectWalletAction}\n        closeModal={() => {}}\n      />\n      {isLoading && <LoadingIndicator />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}